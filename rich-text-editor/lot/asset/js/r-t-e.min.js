/*!
 * =======================================================
 *  RICH TEXT EDITOR 1.1.5
 * =======================================================
 *
 *   Author: Taufik Nurrohman
 *   URL: https://github.com/tovic
 *   License: MIT
 *
 * -- USAGE: ---------------------------------------------
 *
 *   var e = new RTE(document.querySelector('textarea'));
 *
 * -------------------------------------------------------
 *
 */
!function(e,t,n){function ye(e){return t[i+"Element"](e)}function $e(e){return e.toLowerCase()}function xe(e){return"string"==typeof e}function be(e){return 3===e.nodeType}function Te(e){return"undefined"==typeof e}function Ee(e){return"function"==typeof e}function Ae(e,t){return new RegExp(e,t)}function Ce(e,t){return t=t||"[\\w-:]+",e[E](Ae("<\\/"+t+">|<"+t+"(\\s[^<>]*?)?>","gi"),"")[E](/ +/g," ")[E](/^\s*|\s*$/g,"")}function Le(e,t){return e.join(t||"")}function Ne(e,t,n){return e[l](t,n,se)}function Me(e,t,n){return e[d](t,n)}function ke(e){var f,n=ye(le),r=t[i+"DocumentFragment"](),o=[],u=[],c="";if(xe(e)){for(n[a]=e;f=n[p];)u[M]($e(f[$]||"")),o[M](r[v](f));return[o,r,u,e]}for(u in e)(f=e[u])&&(xe(f)?(c+=f,n[a]=f,f=n[p]):c+=f[s],o[M]($e(f[$]||"")),r[v](f));return[e,r,o,c]}var ge,we,r="__instance__",i="create",o="style",u="minHeight",f="HTML",a="inner"+f,s="outer"+f,c="className",f="EventListener",l="add"+f,d="remove"+f,f="Child",p="first"+f,v="append"+f,h="remove"+f,m="parentNode",g="children",w="childNodes",y="insertBefore",$="nodeName",f="Attribute",x="get"+f,b="set"+f,T="remove"+f,E="replace",A="value",C="length",L="indexOf",N="substring",M="push",k="preventDefault",z="click",S="focus",P="blur",j="select",O="keydown",_="paste",R="error",K="test",H="contenteditable",B="readonly",I="spellcheck",D="placeholder",q="getSelection",U="getRangeAt",F="rangeCount",X="addRange",G="removeAllRanges",J=i+"Range",f="Contents",Q="clone"+f,V="delete"+f,W=j+"Node",Y=W+f,Z="insertNode",ee="cloneRange",te="collapse",ne="setStart",re="setEnd",ie=ne+"Before",oe=ne+"After",ue=re+"Before",fe=re+"After",ae=!0,se=!1,ce=null,le="div",f="Key",de="ctrl"+f,pe="shift"+f,he="keyCode",me=setTimeout;!function(e){e.version="1.1.5",e[r]={},e.each=function(t,n){return me(function(){var i,n=e[r];for(i in n)t(n[i],i,n)},0===n?0:n||1),e},e.x="​"}(e[n]=function(f,l){function st(){return ge=e[q]&&e[q]()||{},ge[F]&&ge||ce}function ct(e){return ge=st(),ge&&ge[U](e||0)||ce}function lt(e,t,n){if(e){if(ge=st()){var i,o,r=ye(le);for(i=0,o=ge[F];o>i;++i)r[v](ge[U](i)[Q]());return e=Le(r[a].split(Ke)),e=Te(t)||t?d.f(e):e,Te(n)||n?e:e[E](Ae(Fe,"g"),"\n\n")[E](Ae(Xe,"g"),"")}return""}return st()+""}function dt(e,t){var i,o,u,f,n=lt(1,0,0),r=ke(n);if(r&&r[0][C]&&(we=ct(),we[V](),we[Z](r[1])),r=r[0],e){for(u=0,f=r[C];f>u;++u)if(i=r[u],$e(i[$])===e)return i;return(Te(t)||t)&&(u=mt(),o=vt(Ke+n),o=o&&o[0]&&o[0][m],o&&$e(o[$])===e&&o!==Oe)?(o[a]=Le(o[a].split(Ke)),n&&n!==o[a]?gt(u):yt([o]),o):ce}return r[C]?r:ce}function pt(e){return(we=ct())&&(e=1===e?se:0===e?ae:e,we[te](e)),we}function vt(e,t){if(Ye[S]){var n=ke(e);return(ge=st())&&(we=ct(),we[V](),we[Z](n[1]),0===t?pt(1):1===t&&(vt(e,ae),pt(0)),ge[G](),ge[X](we)),n[0]}return ce}function ht(t){try{var n=dt("a"),r=Ce(lt(1,1,0),"a");t=Ce(t[E](/^\s*javascript:/i,""));var o=t[0],u=e.location.hostname;return o=-1!=="/?&#"[L](o)||-1===t[L]("/"),!u||0!==t[L]("//"+u)&&-1===t[L]("://"+u)||(o=1),r||(vt(t,ae),r=t),t?(n?n[b]("href",t):n=vt('<a href="'+t+'">'+r+"</a>",ae)[0],o?(n[T]("rel"),n[T]("target")):(n[b]("rel","nofollow"),n[b]("target","_blank"))):(n&&(r=n[a],n[m][h](n)),n=vt(r,ae)[0]),n}catch(f){}return ce}function mt(){var e,t,n;return(e=ct())?(t=e[ee](),t[Y](Oe),t[re](e.startContainer,e.startOffset),n=(t+"")[C],[n,n+(e+"")[C]]):ce}function gt(n){if(n){var i,u,a,s,c,l,r=t[J](),o=0,f=[Oe];for(r[ne](Oe,0),r[te](ae);!l&&(s=f.pop());)if(be(s))u=o+s[C],!c&&n[0]>=o&&n[0]<=u&&(r[ne](s,n[0]-o),c=1),c&&n[1]>=o&&n[1]<=u&&(r[re](s,n[1]-o),l=1),o=u;else for(a=s[w][C];a--;)f[M](s[w][a]);i=e[q](),i[G](),i[X](r)}}function wt(){return ke(lt(1,1,0))[0]}function yt(e,t){t=Te(t)||!t;var n=e[0],r=e[e[C]-1];return ge=st(),we=ct(),1===e[C]?we[t?Y:W](n):(we[t?oe:ie](n),we[t?ue:fe](r)),ge[G](),ge[X](we),e}function $t(e,t,n){if(Ye[S]){Te(t)&&(t=-1);var u,c,l,r=dt(e),i=lt(1,0,0),o=[];if(0===t||-1===t&&r){if(r){u=r[a],r[m][h](r);var d=Ce(i,e),p=Ce(u,e);if(-1!==p[L](d)&&d[C]<p[C])r=Ae("<"+e+"(\\s[^<>]*?)?>","i").exec(r[s]),r=r&&r[1]||"",i=ke([u[N](0,u[L](d)),d,u[N](u[L](d)+d[C])])[0],i[0]&&vt("<"+e+r+">"+(i[0][s]||i[0])+"</"+e+">",0),i[2]&&vt("<"+e+r+">"+(i[2][s]||i[2])+"</"+e+">",1),o=vt(i[1][s]||i[1],ae);else{if(o=ke(i),u=ye(le),o&&o[2]&&(l=o[2][C]))for(c=0;l>c;++c)o[2][c]===e?u[a]+=o[0][c][a]:u[v](o[0][c]);o=vt(u[a],ae)}}}else(1===t||-1===t&&!r)&&(r||(i=i&&i[E](Ae("(\\n|"+qe+"){2,}","gi"),"</"+e+">"+Re+Re+"<"+e+">"),o=vt("<"+e+">"+(i||n||"")+"</"+e+">",ae)));return o[0]||ce}return ce}function xt(e,t){S in e&&(e.selectionStart=e.selectionEnd=Te(t)?e[A][C]:t,e[S]())}function bt(e,t){var n=e[c];return Ae("(^|\\s)\\s*"+t+"\\s*(\\s|$)")[K](n)?e:(e[c]=Ce(n+" "+t),e)}function Tt(e,t){var n=Ce(e[c][E](Ae("(^|\\s)\\s*"+t+"\\s*(\\s|$)","g"),"$1$2"));return n?e[c]=n:e[T]("class"),e}function Et(e,t,n,r){function u(e){r.apply(this,[e,d,i]),Ct(),Oe[S](),Ee(tt)&&tt(e,d,Oe),e[k]()}var i=bt(ye("a"),t),o=n[1]||n[0];return 0===o[L]("svg:")&&(o=xe+o.slice(4)+ze),i[a]="<span>"+o+"</span>",i.title=e,i.href="javascript:;",r&&(Ne(i,"touchstart",u),Ne(i,"mousedown",u)),[i,r]}function At(){Oe[a]=d.f(f[A])[E](Ae(Fe,"gi"),Re+Re)[E](Ae(Xe,"gi"),"")}function Ct(){var e=d.f(Oe[a]);Se.tidy&&(e=e[E](Ae(Fe,"gi"),"</p>\n\n<p$1>")[E](Ae(Be,"gi"),Re+"\n")),f[A]=e}function Lt(e){return $e(e.key||String.fromCharCode(e[he]))}function kt(e){var t=e[de],n=e[pe],r=e[he],i=Lt(e);t&&n&&("x"===i||88===r)&&et?(at.x[1](),e[k]()):n||"enter"!==i&&13!==r||Ee(Ze)&&Ze(e,d,f),Ee(tt)&&tt(e,d,f),me(At,1)}function zt(){if(Pe[m])return d;bt(f,nt+"-source"),Ne(f,O,kt),Ve=Se.tools;for(We in Ve)if(We=Ve[We],at[We]){if("x"===We&&!et)continue;je[v](at[We][0])}Pe[v](Oe),Nt&&"p"===$e(Nt[$])&&(Nt[y](Mt,f),Nt[m][y](f,Nt),Nt[m][h](Nt)),f[m][y](Pe,f),Pe[v](f),Pe[v](je),bt(_e,nt+"-d"),_e[a]='<input type="text">',d.d.x();var e=_e[g][0];return e[b](I,se),Ne(e,z,function(){Ye[R]=se,Tt(Pe,R)}),Ne(e,O,function(e){var t=this,n=e[de],r=e[pe],i=e[he],o=Lt(e);n||r||"enter"!==o&&13!==i?r||"escape"!==o&&27!==i&&(t[A][C]||"backspace"!==o&&8!==i)||(d.d.x(1,1),Qe=0,e[k]()):(d.d.x(1,1),Qe&&Qe(e,d,t),Qe=0,t[A]="",Ee(tt)&&tt(e,d,Oe),e[k]())}),Pe[v](_e),d}function St(){return Pe[m]?(Nt&&(Pe[m][y](Nt,Pe),Nt[y](f,Mt),Nt[h](Mt)),f[o][u]="",f[x](o)||f[T](o),Tt(f,nt+"-source"),Me(f,O,kt),Pe[m][h](Pe),d):d}var Qe,Ve,We,d=this,p="⌘",ve="⇧",xe='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="',ze='"></path></svg>',Se={classes:["rich-text-editor"],tags:["a|abbr|b|br|code|dfn|del|em|i|ins|kbd|mark|p|span|strong|u|var"],blocks:["article|aside|blockquote|figure|figcaption|figure|h[1-6]|header|div|li|[ou]l|p|pre|section|table|tr|th"],attributes:["class|data-[\\w-]+?|href|id|rel|style|target|title"],tools:["b","i","u","x"],text:{b:["Bold",xe+"M9 10.344c0.563 0 1-0.438 1-1s-0.438-1-1-1h-2.344v2h2.344zM6.656 4.344v2h2c0.563 0 1-0.438 1-1s-0.438-1-1-1h-2zM10.406 7.188c0.875 0.406 1.438 1.281 1.438 2.281 0 1.406-1.063 2.531-2.469 2.531h-4.719v-9.344h4.188c1.5 0 2.656 1.188 2.656 2.688 0 0.688-0.438 1.406-1.094 1.844z"+ze,p+"+B"],i:["Italic",xe+"M6.656 2.656h5.344v2h-1.875l-2.25 5.344h1.469v2h-5.344v-2h1.875l2.25-5.344h-1.469v-2z"+ze,p+"+I"],u:["Underline",xe+"M3.344 12.656h9.313v1.344h-9.313v-1.344zM8 11.344c-2.219 0-4-1.781-4-4v-5.344h1.656v5.344c0 1.281 1.063 2.313 2.344 2.313s2.344-1.031 2.344-2.313v-5.344h1.656v5.344c0 2.219-1.781 4-4 4z"+ze,p+"+U"],a:["Link",xe+"M11.344 4.656c1.844 0 3.313 1.5 3.313 3.344s-1.469 3.344-3.313 3.344h-2.688v-1.281h2.688c1.125 0 2.063-0.938 2.063-2.063s-0.938-2.063-2.063-2.063h-2.688v-1.281h2.688zM5.344 8.656v-1.313h5.313v1.313h-5.313zM2.594 8c0 1.125 0.938 2.063 2.063 2.063h2.688v1.281h-2.688c-1.844 0-3.313-1.5-3.313-3.344s1.469-3.344 3.313-3.344h2.688v1.281h-2.688c-1.125 0-2.063 0.938-2.063 2.063z"+ze,p+"+L"],x:["Source",xe+"M8 6.656c0.719 0 1.344 0.625 1.344 1.344s-0.625 1.344-1.344 1.344-1.344-0.625-1.344-1.344 0.625-1.344 1.344-1.344zM12 6.656c0.719 0 1.344 0.625 1.344 1.344s-0.625 1.344-1.344 1.344-1.344-0.625-1.344-1.344 0.625-1.344 1.344-1.344zM4 6.656c0.719 0 1.344 0.625 1.344 1.344s-0.625 1.344-1.344 1.344-1.344-0.625-1.344-1.344 0.625-1.344 1.344-1.344z"+ze,p+"+"+ve+"+X"]},tidy:1,enter:1,x:1,update:0},Pe=ye(le),je=ye(le),Oe=ye(le),_e=ye(le),Re="<br>",Ke=e[n].x,He="(\\s[^<>]*?)?",Be="<br"+He+"\\s*\\/?>",Ie="<p"+He+">",De="<\\/p>",He="\\s*",qe=He+"(?:"+Be+")"+He,Ue="^"+He+Ie+"(?:"+qe+")*"+He+"|"+He+"(?:"+qe+")*"+De+He+"$",Fe=He+"(?:"+qe+")*"+De+He+Ie+"(?:"+qe+")*"+He,Xe=He+"(?:"+Ie+"(?:"+qe+")*|(?:"+qe+")*"+De+")"+He,Ge=He+Ie+"(?:"+qe+")*"+He+"(?:"+qe+")*"+De+He,Je=He+Ie+"(?:"+qe+")*(?:[\\s\\S]*?)(?:"+qe+")*"+De+He;d.is={view:ae,source:se,d:se,e:function(e){var t=st()[S+"Node"];if(!t)return ce;if(be(t)&&(t=t[m]),t===Oe){if((t=lt(1,1,0))&&-1!==$e(t)[L]("</"+e+">"))return vt(t,ae)[0]}else{if(t[$]&&$e(t[$])===e)return t;for(;t&&t!==Oe;){if(t[$]&&$e(t[$])===e)return t;t=t[m]}}return ce},focus:se,blur:ae,error:se},l=l||{};for(We in Se)Te(l[We])||(Se[We]=l[We]);var Ye=d.is,Ze=Se.enter,et=Se.x,tt=Se.update,nt=Se.classes[0],rt=Se.text||{},it=Le(Se.tags,"|"),ot=Le(Se.attributes,"|"),ut=Le(Se.blocks,"|"),ft=0,at={b:function(){$t("strong")},i:function(){$t("em")},u:function(){$t("u")},a:function(e){var n,r,t=Ce(lt(1,1,0)).split(/\s/)[0];/^[a-z\d]+:\/\/\S+$/[K](t)?(dt("a")?$t("a",0):ht(t),Ct()):Ye.d?d.d.x(1):((n=dt("a"))&&(r=n[x]("href")),He="http://",d.d(He,(r?r[E](/\/+$/,""):He+$e(t))||"",function(e,t,n){ht(n[A]),Ct()}),me(function(){r&&_e[g][0][j]()},2))},x:function(e){if(et){var t=Oe.offsetHeight;t&&(f[o][u]=t+"px"),ft?(d.$[0]=mt(),bt(Pe,"view"),Tt(Pe,"source"),Oe[S](),gt(d.$[1]),ft=0):(d.$[1]=mt(),bt(Pe,"source"),Tt(Pe,"view"),f[S](),gt(d.$[0]),ft=1),Ye.view=!ft,Ye.source=!!ft,d.d.x(0,1),Ee(et)&&et(e,d,ft||0)}}};d.$=[ce,ce],d.$$=function(e,t){var n=[st(),ct(t)];return Te(e)?n:n[e]},d.d=function(e,t,n){var r=_e[g][0];return r[D]=e,r[A]=t,me(function(){xt(r)},1),Qe=n,d.d.v(1),d},d.d.x=function(e,t){var n=_e[g][0],r=n[A];return r&&!t?(bt(Pe,R),Ye[R]=ae,Ye.d=ae,me(function(){Ye[S]=se,Ye[P]=ae,n[S](),n[j]()},1)):(Tt(Pe,"d"),Tt(Pe,R),Ye.d=se),Ye[S]=ae,Ye[P]=se,e&&(d[S](),gt(d.$[1])),d},d.d.v=function(e){return bt(Pe,"d"),Tt(Pe,R),Ye[R]=se,Ye.d=ae,d.$[1]=e?mt():ce,d},e[n][r][f.id||f.name||Object.keys(e[n][r])[C]]=d,d.t=function(e,t,n,r){var i=Et(t[0]+(t[2]?" ("+t[2]+")":""),nt+"-t:"+e,t,n);return Te(r)?r=ce:0>r&&(r=je[g][C]+r),je[y](i[0],je[g][r]||ce),d.t[e]=i[1],d.t[e].e=i[0]};for(We in at)d.t[We]=at[We],at[We]=Et(rt[We][0]+(rt[We][2]?" ("+rt[We][2]+")":""),nt+"-t:"+We,rt[We],at[We]),d.t[We].e=at[We][0];d.f=function(e){return e=Le(e[E](/\r/g,"").split(Ke)),e=e[E](/<([\w-:]+?)(?:\s[^<>]*?)?>\s*<\/([\w-:]+?)>/g,function(e,t,n){return t===n?"":e}),e=e[E](/<code(\s[^<>]*?)?>([\s\S]*?)<\/code>/g,function(e,t,n){return"<code"+(t||"")+">"+n[E](/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")[E](/ /g,"&nbsp;")+"</code>"}),e=e[E](/<(\/?)([\w-:]+?)(\s[^<>]*?)?>/g,function(e,t,n,r){if(n=$e(n),!Ae("^("+it+"|"+ut+")$")[K](n))return"";(r=r||"")&&(r=r[E](/\s+([\w-:]+?)(?:="((?:\\.|[^"])*?)"|$)/g,function(e,t,n){return Ae("^("+ot+")$")[K](t)?e:""}));var i=/^(h[1-6]|th)$/[K](n),o=/^((fig)?caption)$/[K](n),u=t?"":r;return"b"===n||"strong"===n||i?"<"+t+"strong"+u+">"+(i&&t?Re+Re:""):"i"===n||"em"===n||o?"<"+t+"em"+u+">":Ae("^("+it+")$")[K](n)?"<"+t+n+u+">":Ae("^("+ut+")$")[K](n)?Re+Re:""}),e=e[E](Ae(Fe,"gi"),"</p><p$1>")[E](Ae(qe,"gi"),Re)[E](/\n/g,Re)[E](Ae("(?:"+qe+"){3,}","gi"),Re+Re)[E](Ae("^(?:"+qe+")+|(?:"+qe+")+$","gi"),"")[E](Ae("(?:"+qe+"){2,}","gi"),"</p><p>")[E](Ae(Ge,"gi"),""),e=e&&!Ae("^"+Je+"$","gi")[K](e)?"<p>"+e+"</p>":e,e=ke(e),e[3]||""},At(),Ct(),bt(Pe,nt+" view"),f[b](I,se),bt(je,nt+"-tool"),bt(Oe,nt+"-view"),Ze&&bt(Pe,"expand"),Oe[b](H,ae),Oe[b](I,se),Oe[b](D,f[D]||""),Ne(Oe,S,function(){Ye[S]=ae,Ye[P]=se,bt(Pe,S),Ye[R]&&f.required&&""!==f[A]&&(Ye[R]=se,Tt(Pe,R))}),Ne(Oe,P,function(){Ye[S]=se,Ye[P]=ae,Ct(),Tt(Pe,S),!Ye[R]&&f.required&&""===f[A]&&(Ye[R]=ae,bt(Pe,R))}),Ne(Oe,_,function(){me(function(){At();var e=Oe[a];Oe[a]="",vt(e,0)},1)}),Ne(Oe,O,function(e){var u,t=e[de],n=e[pe],r=e[he],i=Pe,o=Lt(e);if(!t||n||"b"!==o&&66!==r)if(!t||n||"i"!==o&&73!==r)if(!t||n||"u"!==o&&85!==r)if(!t||n||"l"!==o&&76!==r){if(t&&n&&("x"===o||88===r)&&et)at.x[1](),e[k]();else if(!n&&("enter"===o||13===r))if(Ze&&(ge=st(),we=ct(),vt(Re,0),vt(Ke,1),e[k]()),Ze)Ee(Ze)&&Ze(e,d,Oe);else{for(;i=i[m];)if("form"===$e(i[$])){u=i;break}u&&(u.submit(),e[k]())}}else at.a[1](),e[k]();else at.u[1](),e[k]();else at.i[1](),e[k]();else at.b[1](),e[k]();Ee(tt)&&tt(e,d,Oe),me(function(){var e=Oe[a][E](Ae(Ke,"g"),"");e&&e!==Re||(Oe[a]=""),Ct()},1)});var Nt=f[m],Mt=ye("a");return zt(),d.config=Se,d.container=Pe,d.view=Oe,d.source=d.target=f,d.tool=je,d.dialog=_e,d.c=pt,d.e=dt,d.g=ke,d.i=vt,d.m=yt,d.n=wt,d.r=gt,d.s=mt,d.v=lt,d.w=$t,d[i]=zt,d.destroy=St,d[S]=function(e){if(Ye.view){var n=Oe[a];Oe[S](),d.$[1]&&gt(d.$[1]),Ye[S]=ae,Ye[P]=se,0===e?(Oe[a]="",vt(n,1)):1===e?(Oe[a]="",vt(n,0)):e===ae&&(we=t[J](),we[Y](Oe),ge=st(),ge[G](),ge[X](we))}else Ye.source&&(f[S](),0===e?xt(f,0):1===e?xt(f,f[A][C]):e===ae&&f[j]());return d},d[P]=function(){return Ye.view?(Ye[S]=se,Ye[P]=ae,Oe[P]()):Ye.source&&f[P](),d},d.set=function(e,t){return e=d.f(e),(Ye.view||1===t)&&(e=e[E](Ae(Ue,"gi"),"")[E](Ae(Fe,"gi"),Re+Re)),Te(t)?Ye.view?(Oe[a]=e,Ct()):Ye.source?(f[A]=e,At()):Ye.d&&(_e[g][0][A]=e):0===t?(f[A]=e,At()):1===t&&(Oe[a]=e,Ct()),d},d.get=function(e,t){if(Te(t)){var n;return n=Ye.source?f[A]:Ye.d?_e[g][0][A]:f[A],n?n:e}return 0===t?f[A]||e:1===t?Oe[a]||e:void 0},d.disable=function(){return Oe[T](H),f[b](B,ae),d},d.enable=function(){return Oe[b](H,ae),f[T](B),ge},d})}(window,document,"RTE");